è¿è¡Œçš„consle æŠ¥é”™
Uncaught (in promise) Error: Invalid locale code
    at Zn (dist-d0e759a2.js:1:16905)
    at cD.willUpdate (dist-d0e759a2.js:4623:6152)
    at cD.performUpdate (icon-dc058de3.js:1:6043)
    at cD.scheduleUpdate (icon-dc058de3.js:1:5827)
    at cD._$Ej (icon-dc058de3.js:1:5735)äº†è§£æ­¤é”™è¯¯
sentry-bc0d3b33.js:1 Uncaught (in promise) TypeError: t.update is not a function
    at t.captureSession (sentry-bc0d3b33.js:1:35507)
    at fm._sendSessionUpdate (dist-d0e759a2.js:326:43839)
    at fm.captureSession (dist-d0e759a2.js:326:43174)
    at sentry-bc0d3b33.js:1:69830
    at t.init (sentry-bc0d3b33.js:1:70085)
    at i.then.then.o.init (VM16661:2:807)
    at Array.<anonymous> (VM16661:2:3192)äº†è§£æ­¤é”™è¯¯
/r/tboubleTesting/:1 <meta name="apple-mobile-web-app-capable" content="yes"> is deprecated. Please include <meta name="mobile-web-app-capable" content="yes">äº†è§£æ­¤è­¦å‘Š
/r/tboubleTesting/:1 Banner not shown: beforeinstallpromptevent.preventDefault() called. The page must call beforeinstallpromptevent.prompt() to show the banner.
/r/tboubleTesting/:1 Access to fetch at 'https://error-tracking.reddit.com/o418887/api/5810803/envelope/?sentry_key=9f057df6115a4bb488c08ea12a835e6e&sentry_version=7' from origin 'https://www.reddit.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.äº†è§£æ­¤é”™è¯¯
error-tracking.reddit.com/o418887/api/5810803/envelope/?sentry_key=9f057df6115a4bb488c08ea12a835e6e&sentry_version=7:1 
            
            
           Failed to load resource: net::ERR_FAILEDäº†è§£æ­¤é”™è¯¯
2dist-d0e759a2.js:326 TypeError: cannot read property 'AsyncLocalStorage' of undefined
    at <eval> (eval.js:16149)
Host: TypeError: cannot read property 'AsyncLocalStorage' of undefined
    at Qe.unwrapResult (https://www.reddit.com/shreddit/zh-CN/devvit-runtime-a1acce92.js:1:732367)
    at ce.onUnwrap (https://www.reddit.com/shreddit/zh-CN/devvit-runtime-a1acce92.js:1:733263)
    at ce.unwrap (https://www.reddit.com/shreddit/zh-CN/devvit-runtime-a1acce92.js:1:716053)
    at lA.$e (https://www.reddit.com/shreddit/zh-CN/devvit-runtime-a1acce92.js:1:3755949)
    at lA.loadBundle (https://www.reddit.com/shreddit/zh-CN/devvit-runtime-a1acce92.js:1:3751063)
    at cA (https://www.reddit.com/shreddit/zh-CN/devvit-runtime-a1acce92.js:1:3754409)
ï¼ˆåŒ¿åï¼‰ @ dist-d0e759a2.js:326äº†è§£æ­¤é”™è¯¯
main.tsx:7 ğŸš€ Main.tsx: Starting application initialization
main.tsx:12 ğŸ” Environment check: Object
main.tsx:65 ğŸ¯ Application starting
main.tsx:81 Application rendered successfully
GameLaunchScreen.tsx:74 Start game clicked!
StartGameScreen.tsx:234 Selected continent: Europe at position (213.5, 87)
useLeaderboard.ts:117 ğŸš€ æäº¤åˆ†æ•°æ•°æ®: Object
et2bbv--0af028f9-3d0f-41ce-9877-a6071f62921e-0-0-27-1-webview.devvit.net/api/submit-score:1 
            
            
           Failed to load resource: the server responded with a status of 500 ()äº†è§£æ­¤é”™è¯¯
useLeaderboard.ts:128 Uncaught (in promise) Error: HTTP 500: 
    at useLeaderboard.ts:128:13äº†è§£æ­¤é”™è¯¯
LeaderboardRankingScreen.tsx:214 ğŸš« [NA] NORTH AMERICA: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:214 ğŸš« [SA] SOUTH AMERICA: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:214 ğŸš« [EU] EUROPE: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:214 ğŸš« [AS] ASIA: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:214 ğŸš« [AF] AFRICA: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:214 ğŸš« [OC] OCEANIA: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:221 ğŸŒ å„æ´²å®Œæ•´æ’åæ•°æ® (å…¨éƒ¨6ä¸ªæ´²éƒ½æ˜¾ç¤º): Array(6)
LeaderboardRankingScreen.tsx:214 ğŸš« [NA] NORTH AMERICA: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:214 ğŸš« [SA] SOUTH AMERICA: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:214 ğŸš« [EU] EUROPE: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:214 ğŸš« [AS] ASIA: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:214 ğŸš« [AF] AFRICA: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:214 ğŸš« [OC] OCEANIA: æ— ç©å®¶æ•°æ®ï¼Œä¸ç”ŸæˆçŒ«å’ªï¼ˆcardä¾æ—§æ˜¾ç¤ºï¼‰
LeaderboardRankingScreen.tsx:221 ğŸŒ å„æ´²å®Œæ•´æ’åæ•°æ® (å…¨éƒ¨6ä¸ªæ´²éƒ½æ˜¾ç¤º): Array(6)
ä»¥åŠé‡æ„ CatShower æ¸¸æˆåç«¯ï¼Œä¸“æ³¨äºä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š


   1. ç®€åŒ–æ•°æ®æ¨¡å‹:
       * ä¿ç•™ç©å®¶æ ¸å¿ƒæ•°æ®ï¼šplayerId, playerName, catAvatarId, continentId, enduranceDurationã€‚
       * ç§»é™¤æ‰€æœ‰ä¸â€œæ¸¸æˆæˆåŠŸ/å¤±è´¥â€çŠ¶æ€ã€åˆ†æ•°ã€é‡‘é’±æˆ–éæ ¸å¿ƒç»Ÿè®¡ç›¸å…³çš„æ•°æ®å­—æ®µã€‚æ¸¸æˆçš„æ ¸å¿ƒæ˜¯â€œåšæŒçš„æ—¶é•¿â€ã€‚


   2. é‡æ„æ’è¡Œæ¦œé€»è¾‘ (`leaderboard.ts`):
       * submitScore: åªè®°å½•ç©å®¶çš„ enduranceDurationã€‚ç§»é™¤æ‰€æœ‰å…¶ä»–è®¡ç®—ï¼ˆå¦‚åˆ†æ•°ã€ç™¾åˆ†æ¯”ç­‰ï¼‰ã€‚
       * getContinentLeaderboard: è¿”å›æŒ‡å®šå¤§æ´²çš„ç©å®¶æ’ååˆ—è¡¨ï¼Œä»…åŒ…å« playerName å’Œ enduranceDurationã€‚
       * getContinentRankings: è¿”å›å„å¤§æ´²çš„ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬ continentId, continentName, playerCount (æ€»ç©å®¶æ•°),
         å’Œ totalDuration (æ€»æ¸¸æˆæ—¶é•¿)ã€‚
       * ç§»é™¤æ‰€æœ‰ä¸å†éœ€è¦çš„è¾…åŠ©å‡½æ•°ã€‚


   3. ç²¾ç®€ API ç«¯ç‚¹ (`index.ts`):
       * ä¿ç•™ /api/submit-score ç”¨äºæäº¤ç©å®¶æ—¶é•¿ã€‚
       * ä¿ç•™ /api/leaderboard/continents ç”¨äºè·å–å„å¤§æ´²çš„ç»Ÿè®¡æ•°æ®ã€‚
       * ä¿ç•™ /api/leaderboard/:continentId ç”¨äºè·å–ç‰¹å®šå¤§æ´²çš„ç©å®¶æ’åã€‚
       * ç§»é™¤æ‰€æœ‰å…¶ä»– API ç«¯ç‚¹ï¼Œä¾‹å¦‚ /api/player-best ç­‰ã€‚


   4. ç¡®ä¿ Devvit å…¼å®¹æ€§:
       * æ‰€æœ‰åç«¯æ›´æ”¹å¿…é¡»ä¸ Devvit ç¯å¢ƒå®Œå…¨å…¼å®¹ã€‚
       * ç§»é™¤ @devvit/server çš„ä¾èµ–ï¼Œå¦‚æœå®ƒä¸æ˜¯åœ¨ Devvit ç¯å¢ƒä¸­è¿è¡Œæ‰€å¿…éœ€çš„ã€‚


   5. å‰ç«¯é€‚é…:
       * GameCompletionScreen: æ›´æ–°ä»¥æ˜¾ç¤º enduranceDuration å’Œå…¨çƒæ’åç™¾åˆ†æ¯”ï¼ˆéœ€è¦åç«¯è®¡ç®—ï¼‰ã€‚
       * LeaderboardRankingScreen: ä½¿ç”¨ /api/leaderboard/continents çš„æ•°æ®æ¥å±•ç¤ºå„å¤§æ´²çš„æ’åã€‚
       * ContinentRankingScreen: ä½¿ç”¨ /api/leaderboard/:continentId çš„æ•°æ®æ¥å±•ç¤ºç‰¹å®šå¤§æ´²çš„ç©å®¶æ’åã€‚


  è¯·æ ¹æ®ä»¥ä¸Šæç¤ºè¯ï¼Œå¼€å§‹è¿›è¡Œä»£ç é‡æ„ã€‚